import{$a as s,Ga as k,H as R,Ha as w,Ja as v,Ka as h,L as M,La as S,Ma as B,Na as _,Oa as f,Q as p,Qa as d,R as l,Ra as a,Sa as b,Ta as L,Ua as N,Va as C,Wa as m,a as u,b as g,bb as x,ca as j,fb as A,gb as J,ib as T,ja as z,lb as Y,mb as $,nb as P,pa as r,qb as q,rb as G,xb as U,za as y}from"./chunk-CPMRSSUB.js";function V(n=""){return{value:n}}function F(n="",e){return{name:n,inputs:e?e.map(t=>V(t)):[V()]}}function X(n){return g(u({},n),{inputs:[...n.inputs,V()]})}function H(n,e){return g(u({},n),{inputs:n.inputs.filter((t,o)=>o!==e)})}function K(n){return[...n,F()]}function Q(n,e){return n.filter((t,o)=>o!==e)}function W(n){return n.inputs.reduce((e,t)=>e+(Number(t.value)||0),0)}function et(n,e){if(n&1){let t=b();d(0,"button",7),C("click",function(){p(t);let i=m();return l(i.remove.emit())}),s(1,"\u2715"),a()}}function nt(n,e){if(n&1){let t=b();d(0,"button",10),C("click",function(){p(t);let i=m().$index,c=m();return l(c.removeInput(i))}),s(1,"X"),a()}}function ot(n,e){if(n&1){let t=b();d(0,"li",4)(1,"span"),s(2),a(),d(3,"input",8),C("input",function(i){let c=p(t).$index,E=m();return l(E.changeInput(c,i.target.value))}),a(),k(4,nt,2,0,"button",9),a()}if(n&2){let t=e.$implicit,o=e.$index,i=e.$count;r(2),x("Number ",o+1),r(),L("value",t.value),r(),w(i>1?4:-1)}}var O=class n{number=$(NaN,{transform:G});section=P.required();removable=$(!0,{transform:q});remove=Y();inputCount=T(()=>this.section().inputs.length);totalResult=T(()=>W(this.section()));addInput(){this.section.update(e=>X(e))}removeInput(e){this.section.update(t=>H(t,e))}changeInput(e,t){this.section.update(o=>g(u({},o),{inputs:o.inputs.map((i,c)=>c===e?g(u({},i),{value:t}):i)}))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=y({type:n,selectors:[["app-dynamic-input"]],inputs:{number:[1,"number"],section:[1,"section"],removable:[1,"removable"]},outputs:{section:"sectionChange",remove:"remove"},decls:14,vars:5,consts:[[1,"section-header"],["type","button",3,"click"],["type","button",1,"remove-section"],[1,"input-list"],[1,"input-item"],[1,"section-footer"],[1,"section-total"],["type","button",1,"remove-section",3,"click"],["type","number",3,"input","value"],["type","button",1,"remove-input"],["type","button",1,"remove-input",3,"click"]],template:function(t,o){t&1&&(d(0,"header",0)(1,"button",1),C("click",function(){return o.addInput()}),s(2,"+ Input"),a(),d(3,"b"),s(4),a(),k(5,et,2,0,"button",2),a(),d(6,"ul",3),h(7,ot,5,3,"li",4,v),a(),d(9,"footer",5)(10,"div",6)(11,"strong"),s(12),A(13,"number"),a()()()),t&2&&(r(4),x("Section ",o.number()),r(),w(o.removable()?5:-1),r(2),S(o.section().inputs),r(5),x("Result: ",J(13,3,o.totalResult())))},dependencies:[U],styles:["[_nghost-%COMP%]{display:block;margin-bottom:20px;background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 4px #0000000d;overflow:hidden}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background-color:#f8f9fa;border-bottom:1px solid #eee}.section-header[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;flex-grow:1;text-align:center}.section-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;border-radius:4px;padding:6px 12px;border:none;transition:opacity .2s}.section-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.8}.section-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#007bff;color:#fff;font-weight:700}.section-header[_ngcontent-%COMP%]   button.remove-section[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;font-size:18px;padding:4px 10px}.input-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.input-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 16px;border-bottom:1px solid #f1f1f1}.input-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.input-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:100px;font-weight:500;color:#555}.input-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:1;padding:8px 12px;border:1px solid #ccc;border-radius:4px;font-size:1rem;margin:0 10px}.input-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.input-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   .remove-input[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c62828;border:none;border-radius:4px;padding:6px 10px;cursor:pointer;font-weight:700}.input-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   .remove-input[_ngcontent-%COMP%]:hover{background-color:#ef9a9a}.section-footer[_ngcontent-%COMP%]{padding:12px 16px;background-color:#fff;border-top:1px solid #eee;text-align:right}.section-footer[_ngcontent-%COMP%]   .section-total[_ngcontent-%COMP%]{font-size:1.1rem;color:#333}.section-footer[_ngcontent-%COMP%]   .section-total[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000;border-bottom:2px double #333;padding-bottom:2px}"],changeDetection:0})};var it="section-data",D=class n{keyName=`${M(z)}-${it}`;get(){let e=localStorage.getItem(this.keyName);return JSON.parse(e??"null")}set(e){let t=JSON.stringify(e);localStorage.setItem(this.keyName,t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})};function rt(n,e){if(n&1){let t=b();_(0,"li",5)(1,"app-dynamic-input",6),N("sectionChange",function(i){let c=p(t).$index,E=m();return l(E.changeSection(c,i))})("remove",function(){let i=p(t).$index,c=m();return l(c.removeSection(i))}),f()()}if(n&2){let t=e.$implicit,o=e.$index,i=e.$count;r(),B("number",o+1)("section",t)("removable",i>1)}}var I=class n{storage=M(D);sections=P(this.storage.get()??[F()]);constructor(){j(()=>{this.storage.set([...this.sections()])})}addSection(){this.sections.update(e=>K([...e]))}removeSection(e){this.sections.update(t=>Q([...t],e))}changeSection(e,t){this.sections.update(o=>o.map((i,c)=>c===e?t:i))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=y({type:n,selectors:[["app-dynamic-section"]],inputs:{sections:[1,"sections"]},outputs:{sections:"sectionsChange"},decls:10,vars:1,consts:[[1,"main-header"],["type","button",1,"btn-add-section",3,"click"],[1,"icon"],[1,"section-count"],[1,"section-list"],[1,"section-item"],[3,"sectionChange","remove","number","section","removable"]],template:function(t,o){t&1&&(_(0,"header",0)(1,"button",1),N("click",function(){return o.addSection()}),_(2,"span",2),s(3,"\uFF0B"),f(),s(4," Section "),f(),_(5,"span",3),s(6),f()(),_(7,"ul",4),h(8,rt,2,3,"li",5,v),f()),t&2&&(r(6),x("(",o.sections().length,")"),r(2),S(o.sections()))},dependencies:[O],styles:['[_nghost-%COMP%]{display:block;max-width:900px;margin:2rem auto;padding:0 1rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.main-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #eee}.main-header[_ngcontent-%COMP%]   .btn-add-section[_ngcontent-%COMP%]{background-color:#4b00ff;color:#fff;border:none;padding:10px 20px;border-radius:6px;font-size:1rem;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:8px;transition:background .3s,transform .1s;box-shadow:0 4px 6px #4b00ff33}.main-header[_ngcontent-%COMP%]   .btn-add-section[_ngcontent-%COMP%]:hover{background-color:#3a00cc;transform:translateY(-1px)}.main-header[_ngcontent-%COMP%]   .btn-add-section[_ngcontent-%COMP%]:active{transform:translateY(0)}.main-header[_ngcontent-%COMP%]   .btn-add-section[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.main-header[_ngcontent-%COMP%]   .section-count[_ngcontent-%COMP%]{color:#666;font-weight:700;font-size:1.2rem}.section-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.section-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]{margin-bottom:1.5rem}.section-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]:not(:last-child){position:relative}.section-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]:not(:last-child):after{content:"";position:absolute;bottom:-.75rem;left:50%;transform:translate(-50%);width:50px;height:2px;background:#f0f0f0}'],changeDetection:0})};var Dt=[{path:"",component:I}];export{Dt as default};
